## 17장. 경계: 선 긋기

- 소프트웨어 아키텍처는 선을 긋는 기술이며, 이런 선을 경계(Boundary)라고 부른다.
- 경계는 소프트웨어 요소를 서로 분리하고, 경계 한편에 있는 요소가 반대편에 있는 요소를 알지 못하도록 막는다.   
즉, 서로가 서로를 인식하지 못하도록 막는다.
- 아키텍트의 목표는 필요한 시스템을 만들고 유지하는데 드는 인적 자원을 최소화하는 것이다. 그럼 인적자원의 효율을 떨어뜨리는 것은 무엇일까? 그것은 바로 이른 결정에 따른 결합(coupling)이며, 여기서 이른 결정이란 시스템의 업무 요구사항(유스케이스)과 아무런 관련 없는 결정이다.
- 마샬링의 의미
    
    — [[tistory] 마샬링(Marchalling)이란?](https://comphy.tistory.com/434)   
    — [[tistory] 직렬화(Serialization), 마샬링(Marshalling)의 의미?](https://newseoul.tistory.com/144)
    
    보통 어떤 한 언어로 작성된 프로그램의 출력 매개변수들을 다른 언어로 작성된 프로그램의 입력으로 전달해야 하는 경우에 필요하다.
    
    client에서 메모리를 할당하여 사용하면서, 포인터를 서버측으로 넘겼을 때 마샬링이 일어나지 않는다면 해당 포인터는 유효하지 않은 상태로, 잘못된 공간을 가리키고 있을 것이다. 포인터가 client에서 server로 넘어갈 때, 내부적으로 server에서도 동일한 공간의 메모리를 할당하고 client의 할당된 메모리를 복제한 뒤 client에서 넘어온 포인터의 값을 server에서 할당된 공간의 포인터로 바꿔서 전달된다면 해당 포인터는 유효하게 동작할 것이다. 이런 동작을 마샬링이라고 함.
    
    또 다른 예 : .Net COM Server와 VM COM Client가 있다고 가정. 만약 마샬링이 발생하지 않은 채로 데이터를 전달하게 되면, 서로의 포맷이 맞지 않아 정상적으로 전달되지 않을 것. 서로간의 데이터 전달을 위해 일정한 형식의 포맷으로 맞추어 전달하는 것이 마샬링이다.
    
    → 내가 이해한 바로는 Swift에서 사용하는 object를 json으로 직렬화해서 서버에 보내는게 마샬링이지 않을까싶다.
    
    → 직렬화, 마샬링, 디코딩 및 인코딩의 차이는?
    
- 스텁(Stub)의 의미
    
    — [https://blog.daum.net/hagi/162](https://blog.daum.net/hagi/162)
    
    단어의 의미는 쓰다 남은 토막, 그루터기 등 어딘가 잘리고 남은 것.
    
    구체적인 기능을 구현하지 않고, 인터페이스만을 정의하여 단순히 동작여부만을 확인할 수 있는 모듈. 
    
    껍데기만 있는 함수. 무언가를 구현하려고 할때, 필요한 함수들을 그냥 마구잡이로 쓰고 일단 컴파일이 될 수 있도록 만들려고 할 때 사용하는 코드를 스텁코드라고 부른다.
    
- 시스템을 플러그인 아키텍처로 배치 → 변경이 전파될 수 없는 방화벽을 생성한 것.
- 경계의 한쪽에 위치한 컴포넌트는 경계 반대편의 컴포넌트와는 다른 속도로, 다른 이유로 변경된다.
- 경계선을 그리기 위해서는 먼저 시스템을 컴포넌트 단위로 분리해야 한다. 일부는 핵심 업무 규칙에 해당. 나머지는 플러그인으로 핵심업무와는 직접적인 연관이 없지만, 필수 기능을 포함한다. 이후 컴포넌트 사이의 화살표가 핵심업무를 향하도록 컴포넌트의 소스를 배치한다.
---
🤔 스터디를 하며 얻은 추가 질문들

- mock과 stub의 차이
- 직렬화 : 주소값을 가지고 있는 참조형 변수를 전달할 때 실제 데이터를 바이트스트림 형태로 만들어서 다른 컴퓨터, 프로세스에 전송을 한다. 이게 직렬화.
- 마샬링 : 직렬화로 만들어서 전송, 전송받은 쪽에서 이걸 다시 역직렬화 하는 과정.
- 직렬화 역직렬화(안드로이드 면접질문 90번 항목)
- 디코딩은 역직렬화인가? 인코딩은 직렬화인가?
- 왜 서버랑 클라이언트는 하고 많은 자료형 중 JSON을 사용할까?