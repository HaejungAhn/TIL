## 15장. 아키텍처란?

- architecture : 구조, 건축물
    
    architect : 건축가, 설계자
    
- 소프트웨어 아키텍트는 프로그래머다. 설계자라고 하여 프로그래밍을 몰라도 되는 것은 아니다. 왜냐하면 발생하는 문제를 경험해보지 않는다면 다른 프로그래머를 지원하는 작업을 제대로 수행할 수 없기 때문이다.
- 소프트웨어 아키텍처란 **시스템을 구축했던 사람들이 만들어 낸** 시스템의 형태다. 그 모양은 시스템을 컴포넌트로 분할하는 방법, 분할된 컴포넌트를 배치하는 방법, 컴포넌트가 서로 의사소통 하는 방식에 따라 정해진다.
- 아키텍처의 주된 목적은 시스템의 생명주기를 지원하는 것이다. 좋은 아키텍처는 시스템을 쉽게 이해하고, 쉽게 개발하며, 쉽게 유지보수하고, 또 쉽게 배포하게 해준다.
    
    → 시스템의 생명주기는 SDLC(System Development Life Cycle)을 의미하는 것으로 보인다.
    
    — [소프트웨어 개발 수명주기, wiki](https://ko.wikipedia.org/wiki/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4_%EA%B0%9C%EB%B0%9C_%EC%88%98%EB%AA%85_%EC%A3%BC%EA%B8%B0)  
    — [Systems development life cycle, wiki](https://en.wikipedia.org/wiki/Systems_development_life_cycle)
    
    ![https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/SDLC-Maintenance-Highlighted.png/440px-SDLC-Maintenance-Highlighted.png](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/SDLC-Maintenance-Highlighted.png/440px-SDLC-Maintenance-Highlighted.png)
    
    - a process for planning, creating, testing and deploying an information system.
    - 보통 요구사항 분석 → 설계 → 개발 및 테스트 → 구현(implementation) → 문서화(documentation) → 평가(evaluation) 단계로 구성됨.
    - 여러 SDLC 모델들이 있고 무엇이 중요한가, 비즈니스 환경이 어떠한가에 따라 선택할 수 있음.
        - 빠르게 변화할 수 있는 것에 초점을 맞춘 모델 : 스크럼, 익스트림 프로그래밍 등의 애자일 소프트웨어
        - 프로젝트의 작은 부분을 빠르게 개발한 뒤 반복해서 계속 확장/향상 시키는 모델 : 래셔널 통합 프로세스, 동적 소프트웨어 개발방법 등 반복적 모델
        - 큰 프로젝트를 세세한 곳까지 계획하고 리스크를 줄이면서 결과를 예측 가능하도록 관리하는 모델 : 워터풀 등 순차적 모델
    
- 아키텍처의 궁극적인 목표는 시스템의 수명과 관련된 비용은 최소화하고, 프로그래머의 생산성은 최대화하는데 있다.
    
    → 최소의 투자로 최대의 효과를 이끌어내는 것이 목적
    
    
- 운영과 유지보수의 차이는 무엇일까?
    
    > 형편없는 아키텍처를 갖춘 시스템도 수없이 많지만, 그런대로 잘 동작한다. 이러한 시스템들은 대체로 운영에서는 문제를 겪지 않는다. 운영보다는 배포, 유지보수, 계속되는 개발 과정에서 어려움을 겪는다.
    > 
    
    운영과 유지보수가 동일한 업무라고 생각했는데 이 책에서는 이를 명확히 나누는 것 같다.   
    
    > 145p, 운영   
    운영에서 겪는 대다수의 어려움은 소프트웨어 아키텍처에는 극적인 영향을 주지 않고도 단순히 하드웨어를 더 투입해서 해결할 수 있다.
    > 
    
    명확하게 분리될 수 있는 것은 아닌 것 같지만, 이 책에서는 “운영"을 서비스가 제대로 동작할 수 있도록 지원하는 인프라로 정의하는 것 같다.
    
    > 146p, 유지보수   
    새로운 기능은 끝도 없이 행진하듯 발생하고, 뒤따라서 발생하는 결함은 피할 수 없으며, 결함을 수정하는 데도 엄청난 인적 자원이 소모된다.   
    유지보수의 가장 큰 비용은 탐사(spelunking)와 이로 인한 위험부담에 있다. 탐사란 기존 소프트웨어에 새로운 기능을 추가하거나 결함을 수정할 때, 소프트웨어를 파헤쳐서 어디를 고치는게 최선인지, 그리고 어떤 전략을 쓰는게 최적일지를 결정할 때 드는 비용이다. 이러한 변경사항을 반영할 때 의도치 않은 결함이 발생할 가능성은 항상 존재하며, 이로 인한 위험부담 비용이 추가된다.
    > 
    
    이 책에서 말하는 유지보수 업무는 새로운 기능 추가 혹은 결함 수정과 그로 인해 파생되는 문제 해결이 포함됨.
    
- 개발 단계에서 아키텍처의 역할 : 개발팀들이 시스템을 쉽게 개발할 수 있도록 뒷받침하는 역할.
- 배포 단계에서 아키텍처의 역할 : 시스템을 단 한 번에 쉽게 배포할 수 있도록 만드는 역할.
- 운영 단계에서 아키텍처의 역할 : 개발/배포/유지보수에 비하면 그렇게 주요한 영향을 미치지는 않는다. 왜냐면 스토리지와 서버 추가로 해결될 수 있거든. 그럼에도 불구하고 중요한 이유는 “시스템을 운영하는데 필요한 요구(즉, 시스템의 운영방식)"를 알려준다는 것에서 의미가 있다. 유즈케이스, 기능, 시스템의 필수 행위를 일급(first-class) 엔티티로 격상시키고, 이들 요소가 개발자에게 주요 목표로 인식되도록 해야한다. 이를 통해 개발자가 시스템을 이해하기 쉽도록 만들어준다.
- 유지보수 단계에서 아키텍처의 역할 : 탐사와 이로 인한 위험부담 비용을 줄일 수 있다.
- 시스템의 유연성은 아키텍처에 크게 의존한다. 시스템을 유연하게 유지하는 방법은 선택사항을 가능한 한 많이, 그리고 가능한 한 오랫동안 열어두는 것이다. 그리고 여기서 말하는 열어둬야 할 선택사항은 “중요치 않은 세부사항"을 의미한다.
- 아키텍트의 목표는 시스템에서 정책을 가장 핵심적인 요소로 식별하고, 동시에 세부사항은 정책에 무관하게 만들 수 있는 형태의 시스템을 구축하는데 있다. 세부사항의 결정을 최대한 미룸으로써 더 많은 정보를 확보할 수 있고 더 적합한 결정을 내릴 수 있다.
- 좋은 아키텍트는 세부사항을 정책으로부터 신중하게 가려내고, 정책이 세부사항과 결합되지 않도록 엄격하게 분리한다.