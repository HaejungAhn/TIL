- 컴포넌트, 동적링크, 링킹, 로더, 컴파일에 대한 사전 개념이 먼저 필요하다.
- (추가로 더 봐야함!) relocatable, symbol table, 외부참조와 외부정의
---
### Component
- 단어의 의미 : 구성요소, 구성하고 있는   
- [컴포넌트 정의 - 컴포넌트란 무엇인가?](https://thefif19wlsvy.tistory.com/24)

    - **재사용 부품**으로서의 컴포넌트가 되기 위해서는 아래 내용을 만족해야 한다.

        - 소스코드가 아닌 **실행코드 기반으로 재사용**할 수 있도록 이미 구현 완료되어 있어야 한다.
        - 컴포넌트의 용도, 유형, 기술표준, 인터페이스 등에 대한 정보들에 대해 명세화 되어 있어야 한다.
        - 교체 가능하도록 만들기 위해 표준을 준수하여 개발한다.
        - 배포될 때 관련 문서 및 코드들이 독립적인 단위로 패키지화(packaging = 연관된 클래스, 인터페이스 등의 집합)되어 있어야만 한다.
        - 독립적인 업무단위로 개발된 것이므로 사용자가 필요한 기능만을 패키지한 컴포넌트를 재사용할 수 있도록 독립적으로 배포 가능해야만 한다.
    - 컴포넌트는 인터페이스를 통해서만 접근할 수 있다.   
    컴포넌트 내의 정보는 외부로부터 모두 숨겨짐(은닉) 이를 통해 하드웨어처럼 조립 기반으로 프로그램을 만들 수 있다.

- 이 책에서 언급하는 컴포넌트란
    >런타임에 플러그인 형태로 결합할 수 있는 동적 링크 파일
    
    이 문장을 하나씩 분해해보자.   
    - *`런타임에`*   
    프로그램이 실행되는 중에   
    - *`플러그인 형태로 결합할 수 있는`*   
    플러그인 형태라는 것은 코드에 플러그를 꼽거나 다시 뽑는 것처럼, 기존 프로그램에 영향을 주지 않으면서 기존 프로그램을 기반으로 기능을 붙였다 땠다 할 수 있는 형태를 말한다.
    - *`동적 링크 파일`*   
    필요할 때만 참조되어 기능을 제공하는 파일   
        − [DLL이란? (Dynamic Link Library)](https://goddaehee.tistory.com/185)   
        − [[Linking] 정적 링킹과 동적 링킹의 차이](https://live-everyday.tistory.com/69)   
        
        - 우선 라이브러리란 자주 사용하는 표준 함수들을 모아놓은 것으로 함수의 중복 개발을 피함으로써 생산성을 높여주는 것이다.
        - 라이브러리는 언제 메인 프로그램에 연결되느냐에 따라 `Static Link`와 `Dynamic Link`로 나뉜다.
        - **정적링크(Static Link)**   
            - <u>컴파일 시점</u>에 라이브러리가 링커에 의해 연결되어 <u>실행 파일의 일부분이 됨.</u>   
            - 즉, 실행 파일을 만들 때 <u>프로그램에서 사용하는 모든 라이브러리 모듈을 복사하는 방식</u>을 말하며, 링커에 의해 이 작업이 이루어진다.   
            - 복사하는 방식이기 때문에 중복이 발생하여 메모리 효율이 좋지 않고, 라이브러리의 변화가 발생했을 때 이를 적용하기 위해서 다시 컴파일 후 링킹을 해야만 했다.(왜냐면 컴파일 시 그냥 복사해왔기 때문임)   
            - 장점은 동적링크 방식보다 빠르다는 것과 compatibility issue(아래에 설명 나옴)에 대한 걱정 X
        - **동적링크(Dynamic Link)**   
            - 실행 파일에서 해당 기능을 사용하는 시점에만 라이브러리 파일을 참조하여 기능을 호출함.    
            - 정적링크와 달리 컴파일 시점에 실행 파일에 라이브러리를 복사하지 않고, <u>주소 정보만을 이용해 호출할 수 있다.</u>  
            - 여러 프로그램에서 사용하더라도 주소만 복사했기 때문에 메모리 및 디스크 공간을 아낄 수 있고, 무엇보다 <u>변화를 적용하기 위해 다시 컴파일 후 링킹할 필요가 없다.</u>
            - 정적 링킹이 사용된 프로그램은 실행을 위해 메모리에 로드되는데 시간이 걸리지만, 동적 링킹 방식의 프로그램은 사용할 동적 라이브러리가 이미 메모리에 존재하는 경우 로드되는 시간을 단축시킬 수 있다.
            - 정적링킹에 비해 느린데 매번 메모리 주소를 따라가야하기 때문에 오버헤드가 존재하기 때문이다.
            - compatibility issue를 고려해야 한다. 어떤 프로그램에서 A라는 함수를 동적 링킹 방식으로 사용하고 있을 때, 이 함수가 시스템에서 제거될 가능성도 있는데 이를 compatibility issue라고 한다. 해당 프로그램의 실행파일에는 A 함수의 주소가 있어서 마치 A가 존재하는 것처럼 움직이지만 실제 A는 시스템에 더이상 존재하지 않기 때문에 이 프로그램은 제대로 실행될 수 없다.

- 정리해보면 컴포넌트란 프로그램이 실행되는 중에도 기존 프로그램에 영향을 주지 않고 붙였다 땠다 할 수 있으며 필요한 시점에만 참조하여 사용할 수 있는 파일이다.

### [컴파일과 링킹, 그리고 로더](https://seohs.tistory.com/259)

- 컴파일 과정 : 사람이 이해할 수 있는 코드를 컴퓨터가 이해할 수 있게 변환하는 과정. 엄밀히 말하면 두 단계로 코드를 어셈블리어로 변환하고 다시 이를 기계어로 변환하는 과정이 포함된다.
- 목적 파일(Object File) : 컴파일 과정을 거쳐 나온 파일. 0과 1로 이루어져 있다. OS에 의존적이다.
- 링킹 : 한개의 프로그램은 여러개의 목적 파일과 공용 라이브러리의 조합으로 만들어지기 때문에 이를 조합해서 프로그램을 완성하는 작업을 링킹이라고 함.
- 실행파일 : 컴파일과 링킹을 거쳐 사용자가 최종적으로 실행할 수 있는 파일
- 로더 : 완성된 실행파일은 사용자가 실행하게 되면 해당 프로그램의 내용을 메모리에 적재시키는데 이런 일을 수행하는 프로그램이 로더임.
