## 16장. 독립성

- 좋은 아키텍처는 다음을 지원해야한다. ( 무엇을 어떤 형태로 지원? )
    
    시스템의 유스케이스 / 시스템의 운영 / 시스템의 개발 / 시스템의 배포
    
- 유스케이스 : 시스템의 의도를 지원해야 한다는 뜻이다.
    
    — [[tistory] Use Case(유스케이스)란?](https://y-oni.tistory.com/50)
    
    — [[naver 블로그] 유스 케이스란?](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=media666&logNo=90133948680)
    
    - actor가 관심을 가지고 있는 유용한 일을 달성하기 위한 시나리오의 집합   
    ex. 음료 자판기의 유스케이스: "콜라 사기" / 시나리오: "재고없음", "금액이 맞지 않음" 등
    
    - <u>**사용자의 시점에서 시스템을 모델링 하는 역할**</u>
    - 시스템의 동작을 사용자의 입장에서 표현한 시나리오, 시스템에 관련한 요구사항을 알아내는 과정.
- 시스템의 운영 : 각 유스케이스에 걸맞은 처리량과 응답시간을 보장해야 한다. '각 유스케이스가 계획대로 동작하기 위한 인프라 구조를 지원해야 함'으로 이해함.
- 시스템의 개발 : 개발팀의 구성에 따라 아키텍처가 달라질 수 있음.
- 시스템의 배포 : 시스템이 빌드된 후 즉각 배포할 수 있도록 지원해야한다.
- 선택사항을 열어둠으로써 아키텍처가 변화에 유연하게 변경될 수 있도록 해야하나, 현실적으로 모든 유스케이스를 알 수 있는 것도 아니고 운영 제약사항, 팀 구조 등 모든 것들이 확실치 않은 상태에서 아키텍처를 만들어야 한다.   

- 그래도 추후 변화에 용이하게끔 만들어주는 몇가지 원칙이 있다.
    - 계층 결합 분리   
    SRP(단일 책임원칙), CCP(공통 폐쇄원칙)를 적용하여 다른 이유(및 다른 속도)로 변경되는 것들은 분리하고 동일한 이유로 변경되는 것들은 묶는다.
    
    - 유스케이스 결합 분리   
    서로 다른 이유로 변경되는 또 하나는 바로 유스케이스이다. 예를들어 주문 입력 시스템에서 주문을 추가하는 유스케이스는 주문을 삭제하는 유스케이스와는 틀림없이 다른 속도로, 그리고 다른 이유로 변경된다. 이를 나누는 것이다.
    
- 이처럼 시스템에서 서로 다른 이유로 변경되는 요소들의 결합을 분리하면 기존 요소에 지장을 주지 않고도 새로운 유스케이스를 계속해서 추가할 수 있게된다.
    
- 결합 분리 모드
    - 소스 수준 분리모드
    - 배포 수준 분리모드
    - 서비스 수준 분리모드
- 아키텍트는 종종 중복에 대한 공포로부터 발생하는 함정에 빠지곤 한다.
    
    중복에는 크게 2가지 종류가 있다. 하나는 진짜 중복으로 하나가 변경되면, 동일한 변경을 모든 복사본에도 반드시 적용해야한다. 다른 하나는 거짓된 또는 우발적 중복으로, 중복으로 보이지만 서로 다른 속도와 이유로 변경이 되는 경우가 해당된다.
    
- 뛰어난 아키텍트라면 변경을 예측하여 큰 무리없이 반영할 수 있도록 만들어야 한다.