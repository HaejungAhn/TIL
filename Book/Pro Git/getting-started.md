# 1. 시작하기

## [1.1 버전 관리란?](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-%EB%B2%84%EC%A0%84-%EA%B4%80%EB%A6%AC%EB%9E%80%3F)
이 장을 통해 Git 탄생 배경, Git을 사용하는 이유, Git을 설정하고 사용하는 방법을 터득할 수 있다.

#### **버전관리란?**
- 버전관리 : **파일 변화를 시간에 따라 기록**했다가 나중에 특정 시점의 **버전을 다시 꺼내올 수 있는** 시스템
- 버전관리를 통해 할 수 있는 일
    - 파일이나 프로젝트를 이전 상태로 되돌리기(손쉬운 복구 가능)
    - 시간에 따른 수정 내용 비교
    - 추적
- 버전 관리의 역사
    - 로컬 버전 관리   
    로컬 컴퓨터에서 버전을 관리하는 것.
    - 중앙집중식 버전 관리(CVCS)   
    다른 개발자와 함께 작업하는 경우라면 로컬 버전 관리만으로는 한계가 있다. 그래서 CVCS가 개발됐다.   
    CVS, Subversion 같은 시스템은 **파일을 관리하는 중앙 서버가 별도로** 있고 **클라이언트가 중앙 서버에서 파일을 받아서 사용**(Checkout)한다.   
    그런데 중앙 서버에 문제가 발생하면 어떻게 될까? 만약 중앙서버가 한시간동안 다운된다면 그동안 협업할 수 없고 백업할 방법도 없다. 중앙 서버의 하드디스크에 문제가 발생하면 프로젝트의 모든 히스토리를 잃을 위험도 존재한다.
    - 분산 버전 관리 시스템(DVCS)   
    Git, Mecurial 같은 DVCS에서의 클라이언트는 단순히 파일의 마지막 스냅샷을 Checkout하지 않는다.   
    **클라이언트는 저장소를 히스토리와 더불어 전부 복제한다.**   
    서버에 문제가 생겨도 이 복제물로 다시 작업을 시작할 수 있다. 클라이언트 중에 아무거나 골라도 서버를 복원할 수 있다! 

## [1.2 짧게 보는 Git의 역사](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-%EC%A7%A7%EA%B2%8C-%EB%B3%B4%EB%8A%94-Git%EC%9D%98-%EC%97%AD%EC%82%AC)
- 2005년에 Linus Torvalds가 만듬!
- git의 목표(아직 각 목표가 의미하는 바를 이해하지는 못했고.. 일단 기록만 해둔다.)
    - 빠른 속도
    - 단순한 구조
    - 비선형적인 개발(수천 개의 동시 다발적인 브랜치)
    - 완벽한 분산
    - Linux 커널 같은 대형 프로젝트에도 유용할 것(속도나 데이터 크기 면에서)




## [1.3 Git 기초](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EA%B8%B0%EC%B4%88)
**Git의 핵심은 뭘까?**   
한번도 생각해보지 않았던 질문이다.   
다른 버전 관리 시스템과는 "**데이터를 다루는 방식**"에서 차이가 있다.

### **차이(델타)가 아니라 스냅샷 📸**
- 중앙집중식 버전관리(예컨대 Subversion 등) 시스템과 Git의 가장 큰 차이점은 위에서도 언급했듯이 "정보를 취급하는 방식"에 있다.
- 큰 틀에서 봤을 때 대부분의 VCS가 관리하는 정보는 "파일들의 목록"이다. CVS, Subversion, Perforce, Bazaar 등의 시스템은 **각 파일의 변화를 시간순으로 관리**하면서 **파일들의 집합을 관리**한다.
- 위와 같은 VCS들을 <u>델타 기반 버전관리 시스템</u>이라 한다. 여기서 "델타"란 수학에서는 "변화(=차이, difference)"를 의미한다.   
![각 파일에 대한 변화를 저장하는 시스템들](https://git-scm.com/book/en/v2/images/deltas.png)
- **Git은 이런 식으로 데이터를 저장하지도 취급하지도 않는다.😲**   
대신 Git은 데이터를 **파일 시스템 스냅샷의 연속**으로 취급하고 크기가 아주 작다.   

*- 스냅샷과 백업의 차이는?*

- Git은 커밋하거나 프로젝트의 상태를 저장할 때마다 파일이 존재하는 그 순간을 중요하게 여긴다. 파일이 달라지지 않았으면 Git은 성능을 위해서 파일을 새로 저장하지 않는다. 단지 <u>이전 상태의 파일에 대한 링크만 저장</u>한다. 
- Git은 데이터를 **스냅샷의 스트림**처럼 취급한다.
![시간순으로 프로젝트의 스냅샷을 저장](https://git-scm.com/book/en/v2/images/snapshots.png)

### 거의 모든 명령을 로컬에서 실행
- 1.2 짧게 보는 Git의 역사에서 git의 목표로 "빠른 속도"가 언급됐다. git은 어떻게 빠른 속도를 달성하는 것일까?   
- 그 핵심은 위의 제목처럼 로컬 파일과 데이터만을 사용해 대부분의 명령을 실행하기 때문이다. Git은 프로젝트의 모든 히스토리를 로컬 디스크에 저장한다. 그래서 네트워크에 있는 다른 컴퓨터는 필요치않고 이 때문에 속도가 빠르다.
- 네트워크가 끊겨있는 상태에서도 파일 편집뿐만 아니라 커밋까지 진행할 수 있다.(다른 VCS들은 파일 수정만 할 수 있음. 커밋은 네트워크와 연결이 됐을 때만 가능함.)

### Git의 무결성
- Git은 데이터를 저장하기 전에 항상 체크섬을 구하고 그 체크섬으로 데이터를 관리한다.    

*- 체크섬과 무결성이란?*

- 체크섬은 Git에서 사용하는 가장 기본적인(Atomic) 데이터 단위이자 Git의 기본 철학이다. 
- Git은 SHA-1 해시를 이용해 체크섬을 만들며 이는 40자 길이의 16진수 문자열이다.    
**파일 내용이나 <u>디렉토리 구조</u>를 이용하여 체크섬을 구한다.**
- 체크섬의 예 : `24b9da6552252987aa493b52f8696cd6d3b00373`
- Git은 모든 것을 해시로 식별하기 때문에 이런 값은 여기저기서 보인다. 실제로 Git은 파일을 이름으로 저장하지 않고 해당 파일의 해시로 저장한다.

### Git은 데이터를 추가할 뿐!
- Git으로 무얼 하든 Git 데이터베이스에 데이터가 추가된다.
- [되돌리기](https://git-scm.com/book/ko/v2/Git%EC%9D%98-%EA%B8%B0%EC%B4%88-%EB%90%98%EB%8F%8C%EB%A6%AC%EA%B8%B0#_undoing)를 보면 Git에서 데이터를 어떻게 저장하고 손실을 어떻게 복구하는지 알 수 있다.

### 세 가지 상태
- Git은 파일을 `Committed`, `Modified`, `Staged` 이렇게 세가지 상태로 관리한다.
    - `Committed`란 데이터가 로컬 데이터베이스에 안전하게 저장됐다는 것을 의미한다.
    - `Modified`는 수정한 파일을 아직 로컬 데이터베이스에 커밋하지 않은 것을 말한다.
    - `Staged`란 현재 수정한 파일을 곧 커밋할 것이라고 표시한 상태를 의미한다.
- 위에서 언급한 상태는 Git 프로젝트의 세 가지 단계와 연결돼있다. Git 디렉토리, 워킹트리, Staging Area 단계를 이해하고 넘어가자!
![](https://git-scm.com/book/en/v2/images/areas.png)
- **Git 디렉토리**는 Git이 프로젝트의 메타데이터와 객체 데이터베이스(객체를 저장하는 데이터베이스를 말하는건가?)를 저장하는 곳을 말한다. 이 디렉토리가 Git의 핵심이다. 다른 컴퓨터에 있는 저장소를 Clone할 때 Git 디렉토리가 만들어진다.
- **워킹트리(혹은 워킹 디렉토리)**는 프로젝트의 특정 버전을 Checkout한 것이다. Git 디렉토리는 지금 작업하는 디스크에 있고 그 디렉토리 안에 압축된 데이터베이스에서 파일을 가져와 워킹 트리를 만든다.
- **Staging Area**는 Git 디렉토리에 있다. 단순한 파일이고 곧 커밋할 파일에 대한 정보를 저장한다. Git에서는 기술용어로는 "Index"라고 하지만, Staging Area라는 용어를 써도 상관없다.
- Git으로 하는 일은 기본적으로 아래와 같다.
    1. 워킹 트리에서 파일을 수정한다.
    2. Staging Area에 파일을 Stage해서 커밋할 스냅샷을 만든다.   
    모든 파일을 추가할 수도 있고 선택하여 추가할 수도 있다.
    3. Staging Area에 있는 파일들을 커밋해서 Git 디렉토리에 영구적인 스냅샷으로 저장한다.
- Git 디렉토리에 있는 파일들은 Committed 상태다.   
파일을 수정하고 Staging Area에 올려두었다면 Staged 상태다.   
Checkout하고 나서 수정했지만 아직 Staging Area에 올려두지 않았다면 Modified이다.

## [1.5 Git 설치](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EC%84%A4%EC%B9%98)


## [1.6 Git 최초 설정](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EC%B5%9C%EC%B4%88-%EC%84%A4%EC%A0%95)
### Git의 설정파일들
- 'git config'라는 도구로 설정 내용을 확인하고 변경할 수 있으며 사용하는 설정 파일은 3가지가 있다.
    1. `/etc/gitconfig`파일
        - **시스템의 모든 사용자와 모든 저장소**에 적용되는 설정
        - `git config --system` 옵션으로 이 파일을 읽고 쓸 수 있다.
    2. `~/.gitconfig`, `~/.config/git/config` 파일
        - **특정 사용자(즉 현재 사용자) 및 특정 사용자의 모든 저장소**에 적용되는 설정
        - `git config --global` 옵션으로 이 파일을 읽고 쓸 수 있다.
    3. `.git/config` 파일
        - 이 파일은 Git 디렉토리에 있고 특정 저장소에만 적용된다.
        - `--local` 옵션을 사용하면 이 파일을 사용하도록 지정할 수 있긴 한데 기본적으로는 이 옵션이 적용되어 있다.
- 각 설정은 역순으로 우선시된다. 그래서 `.git/config`가 `/etc/gitconfig`보다 우선순위가 높다.

### 사용자 정보 설정
- Git을 설치하고 나서 가장 먼저 해줘야 하는 것은 사용자 이름과 이메일 주소를 설정하는 것이다. Git은 커밋할 때마다 이 정보를 사용한다.
```Bash
$ git config --global user.name "Jane Doe"
$ git config --global user.email "jane.doe@example.com"
```
- 만약 프로젝트마다 다른 이름과 이메일 주소를 사용하고 싶다면 해당 프로젝트 위치로 이동 후 `--global`옵션을 빼고 설정해주면 된다.

### 편집기
- 사용자 정보 설정 후 Git에서 사용할 텍스트 편집기를 고른다. 기본적으로 Git은 시스템의 기본 편집기를 사용함.
- 그 외에 Emacs 같은 다른 텍스트 편집기를 사용할 수 있고 아래와 같이 실행하면 된다.
```Bash
$ git config --global core.editor emacs
```

### 설정 확인
- `git config --list`명령을 실행하면 설정한 모든 것을 확인할 수 있다.
```Bash
$ git config --list
user.name=Jane Doe
user.email=jane.doe@example.com
color.status=auto
color.branch=auto
color.interactive=auto
color.diff=auto
...
```
- 위에서 언급했듯이 설정파일의 종류가 3개이기 때문에 같은 키가 여러개 사용될 수 있다.
- `git config <key>`명령으로 Git이 특정 Key에 대해 어떤 값을 사용하는지 확인할 수 있다.
- `git config --show-origin rerere.autoUpdate`를 사용하면 특정 key에 설정된 값이 어떤 설정파일에서 세팅되었는지를 확인하는 방법

## [1.7 도움말 보기](https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-%EB%8F%84%EC%9B%80%EB%A7%90-%EB%B3%B4%EA%B8%B0)
- 명령어에 대한 도움말이 필요할 때 도움말을 보는 방법은 두가지다.
```Bash
$ git help <verb>
$ man git-<verb>
```
- 예를 들어 `$ git help config`를 실행하면 git config 명령에 대한 도움말을 볼 수 있다.
- 혹은 `-h`, `--help` 옵션을 사용해서 특정 명령어에 대한 도움말을 볼 수도 있다.
